#! /usr/bin/perl -w
#
# grub2bzimage.pl: Create a GRUB image booatable with SysLinux.
# by pts@fazekas.hu at Sun Dec 19 12:05:34 CET 2010
#
# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; either version 2 of the License, or   
# (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of 
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the  
# GNU General Public License for more details.
#
# grub2bzimage is a Perl script which converts the GRUB bootloader code
# (stage2) to bzimage format, which can be booted directly by SysLinux and
# other bootloaders. grub2bzimage.pl doesn't support GRUB2.
#
# Example use to create grubzimg:
#
#   $ ./grub2bzimage.pl stage2 grubzimg '(hd0,0)/boot/grub/menu.lst'
#
# Write this into syslinux.cfg:
#
#   label grub
#   menu label GRUB
#   kernel grubzimg
#
# Please note that it's not possible to specify the name of the configfile
# (menu.lst) in syslinux.cfg (using `append'). The configfile has to be
# specified when grubzimg is created.
#
# grub2bzimage.pl has been tested with SysLinux 3.83. Please note that newer
# versions of SysLinux contain chain.c32 which supports loading GRUB stage2
# files directly.
#

use integer;
use strict;

die "Usage:   $0 <input-stage2> <output-bzimage> [<configfile-to-load>]
Example: $0 /usr/lib/grub/i386-pc/stage2 grubzimg '(hd0,0)/boot/grub/menu.lst'
" if @ARGV != 2 and @ARGV != 3;
my $input_stage2 = $ARGV[0];
my $output_bzimage = $ARGV[1];
my $configfile_to_load = $ARGV[2];

print STDERR "info: loading stage2: $input_stage2\n";
my $sf;
die "error: open: $input_stage2: $1\n" if !open($sf, '<', $input_stage2);
my $stage2;
die if !read($sf, $stage2, 1 << 20);
# Typical file size is 120kB. It should not be larger than 200kB.
die "error: stage2 too long: $input_stage2\n" if length($stage2) >= (1 << 20);
die "error: stage2 too short: $input_stage2\n" if length($stage2) < 1024;
# The file format detection below is from /usr/share/file/magic .
# Please note that we support only the GRUB version in Ubuntu Lucid. Older
# GRUB stage2 files look a bit differently.
die "error: bad stage2: Geom not found: $input_stage2\n" unless
    substr($stage2, 256, 100) =~ /\0Geom\0/;
die "error: bad stage2: id1 bytes not found: $input_stage2\n" unless
    vec($stage2, 0x41, 8) < 2 and vec($stage2, 0x3E, 8) > 2;
die "error: bad stage2: id2 bytes not found: $input_stage2\n" unless
    substr($stage2, 0x200, 2) ne "\x70\xEA";
die "error: bad stage2: id3 bytes not found: $input_stage2\n" unless
    vec($stage2, 0x212, 8) >= 0x29;
die "error: bad stage2: id4 bytes not found: $input_stage2\n" unless
    vec($stage2, 0x213, 8) >= 0x29;
die "error: bad stage2: id5 bytes not found: $input_stage2\n" unless
    vec($stage2, 0x217, 8) < 0xFF;
die "error: bad stage2: id6 bytes not found: $input_stage2\n" unless
    vec($stage2, 0x26F, 8) == 0 or vec($stage2, 0x270, 8) != 0;
die "error: bad stage2: configfile not found: $input_stage2\n" unless
    substr($stage2, 0x217, 88) =~ /\A([^\0]+)/;
my $configfile = $1;
die "error: bad stage2: grub_version not found: $input_stage2\n" unless
    substr($stage2, 0x212, 5) =~ /\A(\d[.]\d\d)\0/;
my $grub_version = $1;
# Example version: "3.2".
my $version = vec($stage2, 0x206, 8) . "." . vec($stage2, 0x207, 8);

print STDERR "info: found stage2 version $version, grub_version $grub_version\n";
print STDERR "info: found configfile $configfile\n";
if (!defined($configfile_to_load) or length($configfile_to_load) == 0) {
  print STDERR "info: using original configfile\n";
  $configfile_to_load = $configfile;
} else {
  print STDERR "info: using specified configfile $configfile_to_load\n";
}
die "error: configfile too long\n" if length($configfile_to_load) > 88;
die "error: configfile contains NUL\n" if $configfile_to_load =~ y@\0@@;
die "error: configfile does not contain filesystem; please specify e.g. (hd0,0)/boot/grub/menu.lst\n" if
    $configfile_to_load !~ m@\A\((?:hd|fd)\d@;

# $dospre contains the 20480 byte prefix of grub.exe in the grub4dos-0.4.4
# distribution. According to file(1), it's: Linux kernel x86 boot executable
# bzImage, version 2.6.13.1 (mdv@localhost) #1 Tue, RO-rootFS, Normal VGA.
my $dospre = "
4d5a5801ce0100000200401340131e007020000000261e001c00000000000000
ffffffff0080160021004752554234444f53000000002e8c0614002e891e1200
cb9cfafc601e068cc88ed8c41e1200268a470284c0740b26814f030381071f61
9dcbc41e120026c57712bf80008cc8051e008ec0fc31c0aab9ff0fac3c2074fb
3c0974f74eac3c2077fb3c0a7502b00d3c0d740a3c097502b020aaace2ecb000
aa8cc88ed8c41e120026814f030c8126c6470d0081260400ff7f31c02687470e
85c08cc826874710752f8ccb39d876293d00e073248ccb81c3004d720439d873
18b40330ffcd10b80113b303b95100bd5f010e07cd10e964ff8cc8051e008ec0
fc31ff66ab6689d866ab6689c866ab6689d066ab6689f866ab6689e066ab6689
e866ab8cd0ab8ce0ab8ce8ab669c665866ab6689f066abfa8cc08ed88ed0bc70
2006681a26cbfafc8cc88ed8bee00166ad66ad669366ad669166ad669266ad66
9766ad669466ad6695ad8ed0ad8ee0ad8ee866ad6650669d66ad6696e9defe0d
0a4572726f723a204e6f20656e6f756768206d656d6f727920746f2072756e20
475255422e4558452077697468207468652044455649434520636f6d6d616e64
20696e20434f4e4649472e5359530d0a00000000000000000000000000000000
00000000000000000000000000000000000f0100007f00000000ffff000055aa
eb2e486472530302000000000010690f00010080000010000000000000000000
000000004419000000000000ffffff1fe8cd0ceb0b9090909090909090909090
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
b80015b281cd138cc88ed8813e401555aa7529813e42155a5a7521eb1d4e6f20
7365747570207369676e617475726520666f756e64202e2e2e00eb508cc883e8
208ed830ff8a1ef10183eb04c1e30889d9c1eb0381c300102e891e0c00bf0008
29f60e07b800108ed8fcf3a58cc88ed8813e401555aa750a813e42155a5a7502
eb0a8d361d0de8ff02f4ebfd8cc883e8208ed82ef606110001742e2e803e1000
0075260e1f8d36ae0de8dc02ebdb57726f6e67206c6f616465722c2067697669
6e672075702e2e2e00e985006631c066a3e001a2e8016631dbbfd00266b820e8
000066ba50414d5366b9140000001e07cd157220663d50414d537518a0e8013c
807311fe06e80189f883c01489c76683fb0075c8f931c931d2b801e8cd15722a
83f900750983fa00750489c189da6681e2ffff000066c1e206668916e0016681
e1ffff000066010ee001b488cd15a30200b8050331dbcd162e833e0800007407
2eff1e0800eb040ee837012e66a114002e66a3630f2ef6061100017402eb25b8
00018ccd83ed202e8b1e0c00fc8ec0fec48edb81c3000129ff29f6b90008f3a5
39eb72e98cc88ed866833e2800007547803e10002074408cc83d20907439fa83
e8208cd239c2720681c2009029c28ed8b800908ec02e8b0e1200fd89cf4f89fe
81e9eb10f3a4eaeb0e2090b9eb10f3a4b820908ed88ed2be8e10e88b01b9ff00
ba0101e81a027409bef010e87a01f4ebfdbec310e871010f011e32156631c08c
d866c1e00466051015000066a33c150f01163a1531c0e6f0e83904e6f1e83404
b0ffe6a1e82d04b0fbe621b801000f01f0eb0031db6631f68cce83ee2066c1e6
0466ea001000001000322e362e31332e3120286d6476406c6f63616c686f7374
2920233120547565205365702031332031383a31383a34312043535420323030
3500fab080e670cb000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
000031dbb40ecd10ac3c0075f5c30d0a6b65726e656c20677275622e6578653a
20547279696e6720746f207475726e206f6e204132302067617465202e2e2e0d
0a00240d0a6b65726e656c20677275622e6578653a2041323020676174652074
75726e6564206f6e204f4b210d0a00240d0a6b65726e656c20677275622e6578
653a204132302067617465206e6f7420726573706f6e64696e67210d0a002490
665166b902000000e87d0166597507f9c3e800005dc36655e8f6ff2e668f8688
032e8f8684032e6689868c032e66899e90032e66898e94032e66899698032e66
89b69c032e6689bea003b9c80084d27503b914002e898e80039c2e8f868203e8
afff2e8bb67e0389eb2e039a7403ffe384d20f84d100e8e501665166b9020000
00e8040166590f84be00e895029c665166b902000000e8ef006659580f84a800
509d754e84d2740ce866ff2ec6867e0306e8aa01b0d1e664e86702b0dd84d20f
95c4d0e408e0e660e85702665166b902000000e8b20066599cb0ffe664e84202
9d7465665166b902000000e89a0066597456e49284d27416e816ff2ec6867e03
08e85a01a802750e0c0224feeb06a802740424fce692665166b908000000e867
0066597423e8e9fe2ec6867e0300e82d012eff8e80030f8525ff84d27509e8d0
fe2ec6867e0302429c84f6740ae8c1fe8db66303e8aa019d2e668b868c032e66
8b9e90032e668b8e94032e668b9698032e668bb69c032e668bbea0032effb684
032e668bae8803c3e81000500f94c084d20f94c438c45867e0eec36655e871fe
2e668f86a4032e8f8686032e668986a8032e66899eac032e66898eb0032e6689
96b4032e6689b6b8032e6689bebc032e8c9ec0032e8c86c2039cfb31c08ed848
8ec0b9fc3f31f6bf1000fc66f3a7752466a100026650b92000f390664066a300
02e85000f39026663b061002e1eb665866a300029f9d9ee8f7fd2e668b86a803
2e668b9eac032e668b8eb0032e668b96b4032e668bb6b8032e668bbebc032e8e
9ec0032e8e86c2032effb686032e668baea403c351b90800f390e2fc59c384f6
7501c3e8abfd2e668986a8032e66899eac032e66898eb0032e668996b4032e66
89b6b8032e6689bebc032e8c9ec0032e8c86c2032e8ca6c4032e8caec6032e8a
868003e862002e898654032e8a867e03e855002e898656038db63003e84200e8
4ffd2e668b86a8032e668b9eac032e668b8eb0032e668b96b4032e668bb6b803
2e668bbebc032e8e9ec0032e8e86c2032e8ea6c4032e8eaec603c331dbb40ecd
102eac3c0075f4c388c4c0e80480e40f0d303080fc39760380c4073c39760204
07c3665166b910270000e827ffe464a8017506a8027507eb08e818ffe46067e2
e96659c308080808080808080808080808080808080808080808080808413230
2044656275673a205858585820747279696e672e2e2e00080808080808080808
646f6e652120009062005c0076007600de000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000051b402cd
1a88f0240f88f4b104d2ecd50a59c39000000000000000000000000000000000
ffff0000009acf00ffff00000092cf00000000000000000000001f0000000000
55aa5a5a00000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
fcfab8180000008ed88ec08ee08ee88ed0bc0004000031c0509d40a300000000
39050000100074f2e8000000005d81ed2d000000fc56bf000800008bb6280200
00b980000000f3a55ebf000a0000b900010000f3a5bf000e000089eeb9800000
00f3a5b86a0e0000ffe0b980010000f3a5ba80000000bf00820000b900000200
89ee81c60032000081fe008200007205fcf3a5eb1081c7fcff070081c6fcff07
00fdf3a5fcb900020000be00080000fcac3c0074343c2074043c097504e2f1eb
284ebf3610000051b90e00000089f0fcf3a659741789c64649fcac3c00740a3c
2074da3c0974d6e2f1f9eb4c31db803e2275024643803e28743e803e2f7439b9
ff09000029f1bf0008000085db7411575189f7b022fcf2ae75044fc60700595f
fcac3c3b7502b00aaa3c007402e2f1c605fa13000000eb70c7050c8200000000
0000726431c089f7803e28754dacac3c3072553c39761f3c66740db4803c6874
07ac3c647434eb40ac3c64753bac3c3072363c397732bb7f000000e848000000
72269308f8b3ff84ff740cbb7f000000e83300000072119288de89feb94d0000
00bffa130000f3a4fabe5a1000000f011eb850100000be521000008946020f01
16ea701000001000525053fcbd10000000baffffffff31db66ad663d3058740d
663d307874074e4ebd0a00000031c0ac3c0074393c2c74353c2974313c307231
3c39761183fd1072280c203c6172223c66771e2c272c305089d8f7e589c35872
1001c3720c585039c37706ebc085d27401f958585ac32d2d636f6e6669672d66
696c653deb0a9090909090909090909000001f00000000000000ff0300000000
ffff0000009a0000ffff000000920000fab818008ed88ec08ee08ee88ed00f20
c06683e0110f22c00f22d824100f22c0ea9510000031c08ed88ec08ee08ee88e
d066bc000400006631ed52e835005ab91000bf128231c08875f8804df302fcf2
aee309b94e00befa13fcf3a4b80300cd10bee213e8050331c08ed0bc0020ea00
82000031c0e60de6da66b902000000e8de02b0c0e6d6b000e6d466b902000000
e8cd02b048e8b002b020e8ab02b0c7e8a60231c0baf000e8ab02baf100e8a502
b0ffbaa100e89d02b0fbba2100e89502fab011ba2000e88c02b008ba2100e884
02b004ba2100e87c02b001ba2100e87402b011baa000e86c02b070baa100e864
02b002baa100e85c02b001baa100e8540266b964000000e85602fab000ba2100
e84202b000baa100e83a0266b964000000e83c02b036ba4300e82902b000ba40
00e82102e81e02b020baa000e81602b020ba2000e80e02c30b0a0905665066b8
0000800089d866c1e00880e2fc08d0baf80c66ef6658c35589e566b8000000e0
6650b800c050b8100050bb0800b200e8caffbafc0ced83f8ff0f848800b204e8
baffbafc0cec24fcee8a56f8e8adffbafc0c66eda80175346689c166b8ffffff
ff66ef66ed6639c874416683f0ff6689c1668b46fc66ef6601c8660500000001
6625000000ff668946fceb1f89c1b8ffffefed39c8741483f0fe89c18b46faef
01c80500012500ff8946fa8a46f804043c2874058846f8eb90b204e83effbafc
0cec0c07eec646f8104381fb00010f855bff89ec5dc35051bad004a808740342
240788c1b301d2e3ec08d8ee5958c31e55b800f08ed8bad004b000ee42eefc31
f666ad83c60c0f82eb00663d2450495275ef8b44f683f82072e7a80f75e35689
c183ee1031c0ac00c4e2fb84e45e75d183ee108a7c088a5c09b200e8befebafc
0c66ed663b440c0f85aa008a5422e8abfe53bafc0cb88080ef4242ef8b440683
e820c1e80489c183c62089e5e80000582d77015031c0508a3c8a5c01b200e87b
febafc0ced83f8ff7507f6c307745aeb4eb23ce866febafd0cec24077441fec8
b203f6e2040230e489c38a0088c28b5e00e848febafc0c240300c2ec3c80720e
8b5efe2e8a07ee43895efee808ff8a3c8a5c01025efdb23ce821febafc0ceefe
46fdfec3f6c307759383c610c646fd00e28589ec5b5d1fc3baa000e80700ba20
00e80100c3ee66b902000000e80100c366c1e10e67e2fdc3b40ecd10ac3c0075
f7c30d0a0d0a4c61756e6368696e6720475255422e2e2e0d0a002f6d656e752e
6c73740000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000909090909090909090909090909090909090909090909090
9090909090909090909090909090909090909090909090909090909090909090
9090909090909090909090909090909090909090909090909090909090909090
9090909090909090909090909090909090909090909090909090909090909090
9090909090909090909090909090909090909090909090909090909090909090
9090909090909090909090909090909090909090909090909090909090909090
9090909090909090909090909090909090909090909090909090909090909090
9090909090909090909090909090909090909090909090909090909090909090
9090909090909090909090909090909090909090909090909090909090909090
9090909090909090909090909090909090909090909090909090909090909090
9090909090909090909090909090909090909090909090909090909090909090
9090909090909090909090909090909090909090909090909090909090909090
9090909090909090909090909090909090909090909090909090909090909090
9090909090909090909090909090909090909090909090909090909090909090
fcbe80008cc88ec089f789f1f3a48ed8c606800001c606ff0000fbfcbe8100b9
0010ac3c00741a3c0d74163c0a74123c097506c644ff20eb063c200f821d05e2
e14ec60400fcbf810089f129f9b020f3ae74244f41803d2f740e803d00741881
3d2d2d742ee9f404aa803d207209813d2d2d741faae2f2be2e3ae86f057311be
243ae867057309be1a3ab90900e94203e93d03565756575f5e5657fc89f129f9
b02df2ae85c97511a080390806843958585f5e56575657eb1b803d2d75e44f41
5a5239d7760e47494749807dfd2075d24f414f41f606843901755166c7068039
01000000fcbe883989fab90800f3a6740cbe943989d7b90800f3a6752a803d20
7405803d00752066833e9039000f854b0466c706903901000000b9080029cfb0
22aa49b020f3aa5857e96bfff606843902756866c706803902000000fcbea039
89fab90b00f3a6740cbeac3989d7b90b00f3a6754166bbff00000089fee85605
0f82f8034e89f129f989f7ac3c2074063c000f85e60366813e9c39000000800f
85d90366891e9c3981c10b0029cfb022aa49b020f3aa5857e9fcfef606843904
756866c706803904000000fcbebc3989fab90a00f3a6740cbec83989d7b90a00
f3a6754166bbffff000089fee8e7040f8289034e89f129f989f7ac3c2074063c
000f85770366813eb8392039ffff0f856a0366891eb83981c10a0029cfb022aa
49b020f3aa5857e98dfef606843908755166c706803908000000fcbed43989fa
b90600f3a6740cbee03989d7b90600f3a6752a803d207405803d00752066833e
dc39000f85150366c706dc3901000000b9060029cfb022aa49b020f3aa5857e9
35fef606843910755166c706803910000000fcbee83989fab90d00f3a6740cbe
fc3989d7b90d00f3a6752a803d207405803d00752066833ef839000f85bd0266
c706f83901000000b90d0029cfb022aa49b020f3aa5857e9ddfd5f5e5f5e668b
0e903967e31466813e9c3900000080750966c7069c39050000008b0e9c39e319
ba6c3d813eb83920397403ba7e3db409cd21ba933db409cd21fc89feac3c2275
06c644ff20ebf53c2074f13c000f8466fd4e813c2d2d0f85420289f7fcbe0c3a
89f389fab90e00f3a67427b9001089d689d7ac3c00740d3c4172063c5a77020c
20aae2eefcb90e0089de89d7f3a60f850a02fc89feb90010b000f2ae0f85fc01
89f929f1490f84f3018a043c2874043c2f751851fc31d289f7b020f2ae750980
3d2f75f74fb000aa59eb4789cb41fcbf810031c0ac3c3b7502b00a3c227512e3
0eac4939d973ee3c2074043c0075e6b000aa3c007404e3f7e2dabe810089f929
f1490f8496018a043c2874063c2f740231c9fc6689f266a1dc39bf1250c0e002
8a26f839c0e40308e00c010845f36631c08845f8c645f980e37c668945fa803c
28757331c0acac3c300f824f013c3976263c66740eb4803c687408ac3c647456
e93901ac3c640f853201ac3c300f822b013c390f8725014e66bb7f000000e875
020f821701fc4eac3c2c74063c290f850a01669308f8b3ff84ff740d66bb7f00
0000e851020f82f30088c74eac3c290f85e900895df86689d630c051b91000fc
f2ae5989c801f83d6f500f83230251fcf3a45930c0880585c90f85b300813c23
40750bade845010f82b100e9a200fc89f7b90010b020f3ae85c90f8492004f89
feb9460030c0f2ae85c90f84820089fb29f34b8b0480fc3a75103c41720c3c7a
77083c5a76be3c6173ba3c5c74b689f789d9b00af2ae745889f789d9b05cf2ae
74a289f789d9b020f2ae744489f789d9b02ef2ae748e89f789d9b02df2ae7484
89f789d9b07ef2ae0f8478ff89f789d9b021f2ae0f846cff89f789d9b02af2ae
0f8460ff89f789d9b03ff2ae0f8454ff0f01e0a8010f85e401e9ef13ba393ab4
09cd21b40ebb0700b608be8000b91000b030cd10cd1089f0c0e8043c09760204
070430b40ecd10b030cd10b03acd10b020cd10cd10cd10ac88c2c0e8043c0976
0204070430b40ecd1088d0240f3c09760204070430cd10b020cd10e2dacd10cd
10b9100029ceac3c07740c3c0874083c0a74043c0d7502b02ecd10e2e9b00dcd
10b00acd10fece7584e9aa0089f7b90010b020fcf3ae0f8496004f660fb7d7b8
003dcd217343665266ba2d2c0000b409cd21665a89d7b90010b000fcf2ae4f57
b024aab409cd215fb000aaeb630d0a556e61626c6520746f206f70656e20444f
532066696c653a202489c353b43fb9001066ba81000000cd215b732766ba682c
0000b409cd21eb280d0a556e61626c6520746f207265616420444f532066696c
652e2450b43ecd215bc687810000f8c3f9c3b409cd21b8014c2e803e80000075
0c8ccb81eb1e0053bb260153cbcd21ebfebaf73cebdc665266506653fc66bd10
00000066baffffffff6631dbad3d3058740f3d3078740a664e664e66bd0a0000
006631c0ac3c0074473c2c74433c29743f3c20743b3c30723c3c3976126683fd
1072320c203c61722c3c6677282c272c3066506689d866f7e56689c366587215
6601c37210665866506639c37707ebb16685d27401f966586658665ac39c58f6
c430740e80e4cf509d9c58f6c4307410eb1680cc30509d9c58f6c4307502eb08
80e4cf509de9e3118cc88ec0fcbfe848b90800b800bf8ed88cd80500013d00f0
73788ed8803e00004d75ed66813e0800554d422075e266813e0c002020202075
d78cd8ab93a1030040ab01c3e34c4974498edbe345803e00004d7409803e0000
5a753731c966813e0c0020202020752a66813e0800554d4220740b8cd8030603
00408ed8ebcd8cd839c375b5a1030040260145fe01c38edbebb9e891120f8260
128cc88ed88ec066c7066a34010000008c0ee838660fb7e46631db8ccb66c1e3
046689d8a3f232a3023366c1e810a2f432a204338826f7326689d8a3fa32a30a
3366c1e810a2fc32a20c338826ff3266b86b3200006601d8a3123366c1e810a2
14338826173366011e323466011e38348cc00596398ec06631f68cc681c69649
66c1e6046681c6ff0f00006681e600f0ffff6689f766c1ef048ec731ff668936
4c346689f06605001000000c07266689056681c700100000fcb9000466b80700
000066ab660500100000e2f66681ef001000006653066657b80016cd2f665f07
665bd0e00f846a0966c706663401000000badd35b409cd21ba6c3d813eb83920
397403ba7e3db409cd21ba933db409cd21c7069c390500fbe8b10efabaae360f
856ffd66833e9039000f8565fdb88716cd2f85c0ba62350f8557fd8c06643489
3e623485f6740c89f3b448cd210f8241fd8ec031c02eff1e62340f8234fd0f20
c024fe0f22c09c58f6c430740e80e4cf509d9c58f6c4307410eb1680cc30509d
9c58f6c4307502eb0880e4cf509de93f09b80000b90100cd31ba62350f82f2fc
a35b32b80b008cdb66bf53320000061e07cd3107ba62350f82d7fcb80c008b1e
5b3266bf53320000061e07cd3107ba62350f82bdfc8b0e5b3241f7c107000f85
b0fc8b0e5b328ee1b807008ce331c931d2cd31ba62350f8298fcb806008ce3cd
3189d0ba62350f8288fc85c00f8582fc85c90f857cfcb808008ce3b9ffffbaff
ffcd31ba62350f8268fc6631c9668ce1660f03c10f855afcba723466400f8551
fc0f01065f32b80502b3006631d26631c98cc9baea36cd31ba62350f8233fc8c
c941f7c107000f8528fcb80000b90100cd31ba62350f8219fca35b32b80b008c
cb66bf53320000061e07cd3107ba62350f82fefbb80c008b1e5b3266bf533200
00061e07cd3107ba62350f82e4fb8b0e5b3241f7c107000f85d7fb0f00c366a1
61326681e3f8ff00006601c36467668b430266c1c008241f3c020f85b4fb6467
8a430766c1c80866a34732668b1e47326631c98b0e5b3283e1f86601cb64678a
4305346024600f8588fb646780730560b80502b3006631d26631c98b0e5b3283
e1fcbaea36cd31ba62350f8264fbb80008bb0000b90000be0a00bf0000cd31ba
62350f824cfb890e4b32891e4d32b80105bb0a00b90000cd31ba62350f8232fb
890e4f32891e5132b80000b90100cd31ba62350f821bfba35d32b80b008ccb66
bf53320000061e07cd3107ba62350f8200fbb80c008b1e5d3266bf5332000006
1e07cd3107ba62350f82e6fa8b0e5d3241f7c107000f85d9fa8b0e5d328ee9b8
07008ceb6631c96631d28b0ee83889cac1e90cc1e204cd31ba62350f82b3fab8
08008cebb90000baffffcd31ba62350f829ffa6631c9668ce9660f03c10f8591
fa663dffff00000f8587fa668b1e47326631c98b0e5d3283e1f86601cb64678a
4305346024600f8568fa64678073056031db31d2b80100cd00ba6235e953fa00
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000018000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000eb0b9090909090909090909090
0000000000000000ffff00000092cf00ffff0000009acf00ffff00000092cf00
ffff0000009a0000ffff00000092000067000000008900000000000000000000
0000000000000000000000000000000000001000008e000000001000008e0000
00001000008e000000001000008e000000001000008e000000001000008e0000
00001000008e000000001000008e000000001000008e000000001000008e0000
00001000008e000000001000008e000000001000008e000000001000008e0000
00001000008e000000001000008e000000001000008e000000001000008e0000
00001000008e000000001000008e000000001000008e000000001000008e0000
00001000008e000000001000008e000000001000008e000000001000008e0000
00001000008e000000001000008e000000001000008e000000001000008e0000
00001000008e000000001000008e00004f00e0320000ff0030330000ff030000
000000000000380000000000000000003034000036340000000030009f380000
1000000000000000000000000000000000000d0a497420697320696e20564d38
36206d6f64652062757420776974686f757420564350492e20456e61626c6520
56435049207769746820454d4d33383620616e642074727920616761696e2e0d
0a0d0a546869732070726f626c656d2077696c6c206f63637572207768656e20
475255422e4558452072756e732061742074686520436f6d6d616e642050726f
6d7074206f662057696e646f77730d0a4e542f324b2f58502e20496620736f2c
20726573746172742074686520636f6d70757465722077697468206120626f6f
7461626c6520444f5320666c6f70707920616e642074727920616761696e2e0d
0a240d0a44756520746f20612044504d49206661696c7572652c20475255422e
4558452063616e6e6f742072756e20696e20612057696e646f777320444f5320
626f782e0d0a0d0a526573746172742074686520636f6d707574657220696e20
4d532d444f53206d6f646520616e642074727920616761696e2e0d0a240d0a52
756e6e696e6720475255422e4558452066726f6d20612057696e646f77732044
4f5320626f7820636f756c642068616e6720746865206d616368696e65210d0a
0d0a596f752073686f756c642062657474657220726573746172742074686520
636f6d707574657220696e204d532d444f53206d6f646520616e642072756e20
475255422e4558452074686572652e0d0a0d0a20202020202020202121536176
6520796f757220776f726b206265666f726520796f752063686f6f736520746f
20636f6e74696e756521210d0a240d0a0d0a43616e63656c6c65642e0d0a240d
0a4572726f722067657474696e6720564350492073657276657220656e747279
20706f696e742e0d0a24fa0f20c024fe0f22c09c58f6c430740e80e4cf509d9c
58f6c4307416eb0e80cc30509d9c58f6c4307508eb00ba6235e976f580e4cf50
9d66bf3f3200000f20c06689056631f68b36e83866c1e6046601f76467668907
66bf433200000f20d86689056631f68b36e83866c1e6046601f7646766890766
2500f0ffff89c166c1e81089c3b80008be0000bf0010cd31ba62350f8213f589
de66c1e61089cefc646766ad66508cc08ce38ec366b9ff030000668b3e4c3466
83c704fc646766f3a58ec06658662500f0ffff89c166c1e81089c3b80008be00
00bf0010cd31ba62350f82c5f489de66c1e61089ce6681c6800200008cc08ce3
8ec366b960030000668b3e4c346681c780120000fc646766f3a58ec0fc8cc08c
e38ec3668b3e4f326631f666b900800200646766f3a5668b3e4b32668b364f32
66b900800200646766f3a58ec066a14c340f22d80f01163034ea3e3820000f20
c06625ffffff7f0f22c06631c00f22d8eb7eb800de6653066657cd67665f0766
5b80fc00ba72340f8527f4be1833b801de6653cd6766891e4234665b80fc00ba
bf360f850cf466011e503466011e5434fa66be4c3400006601deb80cdecd6766
b818008ed08ed866b808008ec08ee08ee80f20c0a3483400000f20c025ffffff
7f0f22c031c00f22d8ead03800002000b828008ed08ed88ec08ee08ee80f20c0
24fe0f22c0eaea3800000f011e3c348cc88ed08ed88ec08ee08ee8bc7020666a
00669d66833e663400742031c0e60de6da66b902000000e8b6eab0c0e6d6b000
e6d466b902000000e8a5eae8b5e766833e6634007420b036ba4300e887eab000
ba4000e87feae87cea0c80e67066b902000000e87aea66833e6634007414bad0
04ecba2100e85deabad104ecbaa100e853ea66833e6634000f85be06e9cc0590
00000000000000002d2d627970617373000000002d2d42595041535300000080
2d2d74696d652d6f75743d902d2d54494d452d4f55543d902039ffff2d2d686f
742d6b65793d66902d2d484f542d4b45593d66902d2d64756365669000000000
2d2d4455434566902d2d6368732d6e6f2d74756e658d7400000000002d2d4348
532d4e4f2d54554e458d74002d2d636f6e6669672d66696c653d2f6d656e752e
6c7374005c6d656e752e6c7374002e5c6d656e752e6c7374000d0a475255423a
20556e7265636f676e697a6564206f72206661696c656420636f6d6d616e6420
6c696e6520706172616d65746572732e2055736167653a0d0a0947525542205b
4f5054494f4e535d0d0a4f5054494f4e533a202d2d6279706173732c202d2d74
696d652d6f75743d542c202d2d686f742d6b65793d4b2c202d2d647563652c20
2d2d6368732d6e6f2d74756e652c0d0a4f5054494f4e533a202d2d636f6e6669
672d66696c653d2246494c45220d0a546865206f7074696f6e73206172652063
6173652d73656e7369746976652c20796f75206d75737420757365206c6f7765
722d63617365206c6574746572732e20456163680d0a6f7074696f6e2063616e
20626520737065636966696564206f6e6c79206f6e6365206174206d6f73742e
0d0a46494c452063616e2062652073706563696669656420696e204752554220
6f7220444f53207374796c652e2049662046494c45206973206c656420627920
746865207061697220272340272c0d0a7468656e206120444f532066696c656e
616d6520666f6c6c6f77732e0d0a46494c452063616e20616c736f2062652073
6f6d65204752554220636f6d6d616e64732064656c696d697465642062792073
656d692d636f6c6f6e2c206f72207468652077686f6c650d0a636f6e74656e74
206f662061206d656e752066696c6528616761696e2073656d692d636f6c6f6e
2064656c696d6974732065616368206c696e65206f6620746865206d656e7520
66696c65292e0d0a46494c452063616e20626520646f75626c652d71756f7465
642874686973206973207265636f6d6d656e6465642c20657370656369616c6c
7920666f722075736520617320656d6265646465640d0a636f6d6d616e647320
6f72206d656e75292e202020202048657864756d70206f6620636f6d6d616e64
2d6c696e652062756666657220696e205053503a0d0a240d0a466174616c2065
72726f723a2066696c656e616d6520746f6f206c6f6e67210d0a240d0a466169
6c75726520726573746f726520524f4d20494e54203078484820766563746f72
2e20556e737570706f7274656420444f532c2064657669636520647269766572
2c206f72205453522e0d0a240d0a507265737320737061636520626172240d0a
507265737320796f757220686f742d6b65792420746f20737461727420475255
422c20616e79206f74686572206b657920746f20627970617373204752554220
2e2e2e240400000000000000061e66521e0766baffffffff660fb6069c393cff
740966ba12000000f7e29231c08ed866a16c046689c16685d278056601d0eb03
6689d0668b1e6c046639cb73066631c96689d06650b401cd16509cb411cd1675
109d750e5866586639c376d7665a1f07c39d263306b83958740f263306b83975
0f9cb400cd169deb069cb410cd169df9f56658665a1f07c38db400008dbd0000
1700000000000000ffff00000092cf00ffff000000920000fafc8cc88ed0bc4c
206661071f1e068cd80597398ed831f6bfffff8ec7bf1000b9fc3f66f3a5071f
66833e6a34007517b80300cd10668b166e346685d20f85d9edb8004ce9daedb8
580ecd1066a14c340f22d8fa0f011630340f011e363466a148340f22c0eae23e
100066b818008ed88ed0bc7020000066b808008ec08ee08ee8b80cde00000fb7
1de838000089e553535353535568023002005368253f000066bb38008edb2eff
1d423400008cc88ed88ec08ee08ee88ed0bc7020b80300cd10668b166e346685
d20f854dedb8004ce94eed8b0e9c39e30afbe877fe740e0f8245ff66833e9039
000f853bffb9ff00ba0101e8b2d1baf0100f851ded6631c066a3c83de83cd3ba
f0100f840ced664866a3c83d1e06b8ffff8ed88cc00596398ec0b9004031f631
fffc66f3a5071f6631c08cd866c1e0046605603e000066a3623e1e066660668b
16c83dfa0f0116603e0f20c00c010f22c0eb00be08008ec68ede6631ed6631f6
66bf0000200066b900800200fc6766ad6601c56766ab67e2f466b8424b555066
01c56766ab66926601c56766ab8cc866c1e010b8783e6601c56766ab669566f7
d86766abbe10008ec68ede0f20c024fe0f22c0eb00fb6661071f66833e6a3400
7505e84900721ae8fa0b8cc88ed8be444a31ff8ec7b98000fafc66f3a5fbe961
0c8cc88ed88ec09130e4b110f6f10d303080fc39760380c4073c3976020407a3
373d66c7066e341b3d0000e912fe31c08ed889c6b90001fc66ad663d000000c0
720e89c766c1e8108ec026803dcf741ce2e5b800f08ec0b9ffffb0cfbffffffd
f2aefcb9fefff90f85ce05472e893e10492e8c0612498cc88ec0bf444a31f6b9
8000fc66ad2666833d00750566ab83ef0483c704e2ec31f6bf1449b9200066f3
a58cc88ed8bebf46e87dcfbe444a89f731c9e8f808fc66ad6685c00f84760566
3dffff00f00f870601663d000000c00f82fc00500f01e0a801580f8457051e56
c574fc803c635e1f0f85c7001e5031c08ed8a103083d00c00f829500a108083d
00c00f828b00a10d083d00c00f828100a112083d00c07279a117083d00c07271
a11c083d00c07269a121083d00c07261a126083d00c07259a12b083d00c07251
a000083c10754aa005083c137543a00a083c15753ca00f083c197535a014083c
1b752ea019083c4f7527a01e083c087520a023083c0f7519a028083c16751266
a1d6053d00c0720966a1d805663b061a08581f0f85a20481ff904a750766a106
08e9910481ff704b0f858d0466a1d405e9820466501e5689c666c1e8108ed88b
04f7143b04f7145e1f66580f8466041e56c574fc803ccf5e1f0f845404663d00
0000c07323663d0000005a721b1e535131db8edb8b1e1304c1e3066650595939
d9595b1f0f832d0481ff4c4a0f822104770ae89d040f821804e9190481ff504a
0f840d0481ff544a0f84050481ff584a750ae87d040f82f803e9f90381ff5c4a
750ae86d040f82e803e9e90381ff604a0f84dd0381ff644a722081ff844a731a
e84f040f83ce0381ff744a0f84c20381ff784a0f84ba03e9bf0381ff044c7210
81ff244c730ae829040f82ac03e9a50381ff844a750fb8200e31dbe814040f82
9703e9900381ff884a750ae804040f828703e9800381ff8c4a750ae8f4030f82
7703e9700381ff904a7512b200b401e8e0030f835f03fec275f3e95c0381ff94
4a7510b80003ba0000e8c6030f824903e9420381ff984a7524b80224e8b3030f
833203b80084ba0000e8a6030f832503b800c0e89c030f831b03e91c0381ff9c
4a7517b80009e889030f830803b8000ae87f030f83fe02e9ff0281ffa04a7510
b80002ba0000e869030f83e802e9e90281ffa44a7503e9d80281ffa84a7503e9
cf0281ffac4a750db8ffffe844030f83c302e9c40281ffb04a7503e9b30281ff
b44a7503e9aa0281ffb84a7517500f01e0a80158740a663d000000c00f839502
f9e9950281ffbc4a754766813e924a00c000000f827e0266813e924a00f00000
0f877102511e5606576650b408b200f99cff1e904a721009d809c8740a8cc085
c074046658065766585f075e1f59e9440281ffc04a754066813e864a00c00000
0f82310266813e864a00f000000f872402511e5606576650b83011b7049cff1e
844a8cc03d00c072046658065566585f075e1f59e9fe0181ff444b7516b200b4
01e86e020f83ed01fec280fa0275f0f9e9e60181ff044b7503e9d50181ff484b
7503e9d00181ff5c4b7503e9c70181ff4c4b7517500f01e0a80158740a663d00
0000c00f83ae01f9e9ae0181ff504b754066813e864a00c000000f8297016681
3e864a00f000000f878a01511e5606576650b83011b7039cff1e844a8cc03d00
c072046658065566585f075e1f59e9640181ff544b7517500f01e0a80158740a
663d000000c00f834b01f9e94b0181ff584b7517500f01e0a80158740a663d00
0000c00f832e01f9e92e0181ff604b7517500f01e0a80158740a663d000000c0
0f831101f9e9110181ff644b7517500f01e0a80158740a663d000000c00f83f4
00f9e9f40081ff684b7517500f01e0a80158740a663d000000c00f83d700f9e9
d70081ff6c4b7517500f01e0a80158740a663d000000c00f83ba00f9e9ba0081
ff704b7510b8ffffba0000e824010f82a700e9a00081ff744b750db8ffffe811
010f828c00e98d0081ff784b750ab8ffffe8fe00727beb7d81ff7c4b750ab8ff
ffe8ee00726beb6d81ff804b750ab8ffffe8de00725beb5d81ff844b720881ff
c44b7302eb4b81ffc44b720b81ffe44b73056631c0eb3e81fff84b7513500f01
e0a801587408663d000000c07327eb2181ffe44b720881ff044c7302eb1381ff
244c720b81ff444c73056631c0eb06eb0466a1104966abeb1884ed750288cd83
c7041e06666031dbb8210ecd106661071ffec180f9800f8258fa88e9f6ddc30d
0a50726f62696e6720524f4d20494e5420766563746f72732e2049662068616e
672c20756e6c6f616420612064657669636520647269766572206f7220545352
20616e642074727920616761696e2e0d0a0050065731c0a30e498ec0bf0400b8
d947fcab8cc8ab5f0758893e0c490657665031ff8ec70e68c4496658fc66ab83
c70466ab66ab66ab66ab66ab66ab83c72066ab66585f072e8c1e94492e8c0698
492e8c169c492e668926a0492e66a3a4492e66891ea8492e66890eac492e6689
16b0492e668936b4492e66893eb8492e66892ebc491e06609cfa9c509c580d00
01509d58ff1dfb9d61071ffa666a00669dfb0e1f0e0706575651be144931ff8e
c7b92000fafc66f3a5fb595e5f0766a10c49663d0000005ac3fa5589e566502e
66813e0c490000005a0f83a800668b4602663d000000c07325663d0000005a0f
8296001e535131db8edb8b1e1304c1e3066650595939d9595b1f734beb7b6650
66536689c331db66c1eb0c660fb7c06601c36681fb00001000665b6658735a50
0f01e0a80158741f66501e5689c666c1e8108ed88b04f7143b04f7145e1f6658
7405e8380073322e6687060c49663d4c4a00000f844d01663d644a00000f8443
01663d1c4c00000f843901663d584a00000f842f01806607fe66585dcf6660be
e8486689c3660fb7c066c1eb1066c1e3046601c3b90800fc2e66ad85c0742266
89c2660fb7c066c1e0046639c3761266c1ea1066c1e2046601d06639d87703e2
d6f96661c38d7400000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
000000002e8e169c492e668b26a049666a00669dfb2e8e1e94492e8e0698492e
66a1a4492e668b1ea8492e668b0eac492e668b16b0492e668b36b4492e668b3e
b8492e668b2ebc4968ab47c3cf1e0666609130e4b110f6f10d303080fc397603
80c4073c397602040788e131db50b8200ecd1058b40ecd10b40e88c8cd106661
071fc39000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
00000000fafc31c08ed8be0e04ad09c07503b800a089c1be1304ad3d80027752
c1e00689c230c081f900a0740d8ed931f6ac3c80773c08c07438bb800228c3c1
e30639d97201c381f900407201c38ec3c1e00989c148d1e089c689c7fdf3a5fc
31c08ec089d8bf0e04abbf1304c1e806abc331c08ec0bf0e04abbf1304b88002
abc3b80300cd108cc88ed831c08ec0be8100bf0008b90004fc66f3a5aafa31c0
8ed0bc0020fbbec43d8b0c8cc805e00489c33d00080f87070131c088ccfeccc0
e40489da01c28eda80c4088ec0befeff89f789cab90080fdf3a589d1e2dbea3c
0000080000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000
";
$dospre =~ s@\s+@@g;
$dospre = pack("H*", $dospre);
die "error: missing dospre configfile\n" if substr($dospre, 0x25E6, 128) !~
    m@\ALaunching GRUB[.][.][.]\r\n\0/menu.lst\0@;

# We have space for it here since length($configfile_to_load) <= 0x88.
substr($dospre, 0x25FA, length($configfile_to_load)) = $configfile_to_load;
vec($dospre, 0x25FA + length($configfile_to_load), 8) = 0;
# This is not needed for booting, but we do it anyway.
substr($stage2, 0x217, length($configfile_to_load)) = $configfile_to_load;
vec($stage2, 0x217 + length($configfile_to_load), 8) = 0;

print STDERR "info: creating bzimage $output_bzimage\n";
my $of;
die "error: open4write: $output_bzimage: $!\n" if
    !open($of, '>', $output_bzimage);
die if !print($of $dospre, $stage2);
die if !close($of);

print STDERR "info: grub2bzimage.pl OK\n";
